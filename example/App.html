<script>
  import SvelteRouter from 'svelte-router'
  import hljs from 'highlightjs'
  import routes from './router/routes'
  import img from '../build/logo.png'

  const { createRouter, RouterLink } = SvelteRouter

  const router = createRouter(routes)
  const codeRender = _ => {
    const $code = document.querySelectorAll('pre')
    for (let i = 0; i < $code.length; i++) {
      hljs.highlightBlock($code[i])
    }
  }
  createRouter.listen(_ => {
    setTimeout(codeRender)
  })

  export default {
    data () {
      return {
        img
      }
    },
    oncreate () {
      router.create('#app')

      codeRender()
    },
    components: {
      RouterLink
    }
  }
</script>